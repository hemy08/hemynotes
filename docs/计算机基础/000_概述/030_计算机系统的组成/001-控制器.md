# 001-控制器

控制器：协调各个部件相关的问题
- CU 分析指令 给出控制信号
- IR
- PC

## CU

Control Unit（控制单元）：在计算机的中央处理器（CPU）中，控制单元（CU）是负责协调和控制整个计算过程的组件。它解释和执行指令、管理数据流动、协调各个部件之间的操作等。控制单元通常与算术逻辑单元（ALU）一起构成 CPU 的核心部分。

Compute Unit（计算单元）：在图形处理器（GPU）或其他加速处理器中，计算单元（CU）是处理并行计算任务的基本单元。GPU 中的每个计算单元包含多个执行单元（ALU），可以同时执行大量的计算操作。这使得 GPU 在需要高度并行计算的场景下能够提供较高的性能。

控制器CU（Controller Unit）是计算机的指挥系统，控制器一般由指令寄存器、指令译码器、时序电路和控制电路组成。它的基本功能是从内存取指令和执行指令。指令是指示计算机如何工作的一步操作，由操作码（操作方法）及操作数（操作对象）两部分组成。控制器通过地址访问存储器、逐条取出选中单元指令，分析指令，并根据指令产生的控制信号作用于其它各部件来完成指令要求的工作。上述工作周而复始，保证了计算机能自动连续地工作。


### 指令寄存器 IR

- [指令寄存器 百度百科(baidu.com)_科普中国科学百科](https://baike.baidu.com/item/指令寄存器/3219483?fr=ge_ala)
- [什么是指令寄存器 百度网页](https://baijiahao.baidu.com/s?id=1797560358438311815&wfr=spider&for=pc)

指令寄存器（IR，Instruction Register），用于暂存当前正在执行的指令。指令寄存器的时钟信号是clk，在clk的上升沿触发。

指令寄存器是CPU内部的一个硬件寄存器，是CPU芯片中的一个标准电路元件。指令寄存器与CPU 8根数据总线相连接，当程序计数器访问存储器地址时，存储在该地址单元内的信息经数据总线送出，并储存在指令寄存器中。指令寄存器的位数应满足指令长度的要求。除了存储CPU当前指令的地址外，指令寄存器还可能用于存储其他与程序控制有关的信息，例如处理器状态、中断向量等

指令寄存器将数据总线送来的指令存入16位的寄存器中，但并不是每次数据总线上的数据都需要寄存，因为数据总线上有时传输指令，有时传输数据。由CPU状态控制器的 Ir_ena信号控制数据是否需要寄存。复位时，指令寄存器被清零

![](https://bkimg.cdn.bcebos.com/pic/d01373f082025aafd8b1203ef2edab64024f1a47?x-bce-process=image/format,f_auto/watermark,image_d2F0ZXIvYmFpa2UyNzI,g_7,xp_5,yp_5,P_20/resize,m_lfit,limit_1,h_1080)

### 程序计数器

- [程序计数器 百度百科(baidu.com)_科普中国科学百科](https://baike.baidu.com/item/程序计数器/3219536)

程序计数器是用于存放下一条指令所在单元的地址的地方。

当执行一条指令时，首先需要根据PC中存放的指令地址，将指令由内存取到指令寄存器中，此过程称为“取指令”。与此同时，PC中的地址或自动加1或由转移指针给出下一条指令的地址。此后经过分析指令，执行指令。完成第一条指令的执行，而后根据PC取出第二条指令的地址，如此循环，执行每一条指令

![](https://bkimg.cdn.bcebos.com/pic/a50f4bfbfbedab64a45133e9f536afc379311ef3?x-bce-process=image/format,f_auto/watermark,image_d2F0ZXIvYmFpa2UyNzI,g_7,xp_5,yp_5,P_20/resize,m_lfit,limit_1,h_1080)


### 指令译码器