# 创建Qml项目

## 一、新建项目

![](./images/0388536609546981.png)

选择Qt微件可执行程序（`Qt Widgets Application`），`Qt CMake`前缀路径选择Qt安装目录下`lib/cmake`目录。

C++版本这里选择的是C++17

Qt版本选择的是Qt6

创建完毕之后会生成一个项目，项目本身是可以直接编译运行的。

从CMake配置中可以看到，这里使用的是`Clion`绑定的`MinGw`，各个`Clion`版本的不一样。这里建议用Qt版本匹配的`MinGw`


![](./images/6995509289601219.png)


![](./images/8762604255776857.png)

缓存变量是IDE自动生成的，我们一般不需要进行修改



## 二、更改为Qt匹配的MinGw

### 2.1 查看Qt绑定的MinGw版本

这个是最正确的方法

![](./images/9504139499926571.png)

有的文档可能写着在安装目录bin下执行`g++ --version`查看，实际上这个是不准确的。这个命令运行的g++版本是我们在系统的环境变量里面设置的第一个`g++.exe`的版本，而不是Qt匹配`MinGw\bin`中的`g++.exe`，如：

![](./images/8423056205958962.png)

我当前的环境，第一个有g++.exe的路径是`D:\Qt\Tools\mingw810_64\bin`， 所以在cmd窗口执行 `g++ --version` 时，实际上是执行的`D:\Qt\Tools\mingw810_64\bin\g++.exe --version`

![](./images/7740914283103864.png)

### 2.2 更改匹配MinGw

当前`Qt 6.9.1`版本匹配的MinGw是13.1版本，配置好`MinGw 13.1.0 64 bit`的工具链信息

![](./images/5258610283847347.png)

在CMake配置中选择刚才添加/配置的MinGw工具链

![](./images/4773244781201569.png)

工具链配置完毕后，会在源码目录生成一个对应的cmake-build目录

![](./images/3154186445300200.png)

### 2.3 运行查看效果

默认的main.cpp如下：

```cpp
#include <QApplication>
#include <QPushButton>

int main(int argc, char* argv[])
{
    QApplication a(argc, argv);
    QPushButton button("Hello world!", nullptr);
    button.resize(200, 100);
    button.show();
    return QApplication::exec();
}
```

这里是用QApplication创建了一个窗口，窗口中创建了一个200*100的按钮，按钮显示的文字是“Hello world!”

![](./images/4428585893259952.png)

这里因为开始创建的是QWidgets的应用，所以用的都是QWidgets的接口。后面我们再介绍怎么修改为Qml的窗口。


## 三、配置Qml